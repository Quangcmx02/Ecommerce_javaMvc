<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Quản lý tài khoản | RED WINGS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div th:insert="~{layout :: layout(~{::content})}">
    <th:block th:fragment="content">
        <section>
            <div class="container mt-5 p-5">
                <h2 class="text-center mb-4">Quản lý tài khoản</h2>
                <div th:if="${successMsg}" class="alert alert-success text-center" th:text="${successMsg}"></div>
                <div th:if="${errorMsg}" class="alert alert-danger text-center" th:text="${errorMsg}"></div>

                <div th:if="${user != null}">
                    <div class="row">
                    <!-- Form cập nhật thông tin cá nhân -->
                        <div class="col-6">
                    <h4>Cập nhật thông tin cá nhân</h4>


                    <form th:action="@{/user/update-profile}" th:object="${profileDto}" method="post">
                        <div class="mb-3">
                            <label for="firstName" class="form-label">Tên</label>
                            <input type="text" class="form-control" id="firstName" th:field="*{firstName}">
                            <div th:errors="*{firstName}" class="text-danger"></div>
                        </div>
                        <div class="mb-3">
                            <label for="lastName" class="form-label">Họ</label>
                            <input type="text" class="form-control" id="lastName" th:field="*{lastName}">
                            <div th:errors="*{lastName}" class="text-danger"></div>
                        </div>
                        <div class="mb-3">
                            <label for="imgLink" class="form-label">Link ảnh đại diện</label>
                            <input type="text" class="form-control" id="imgLink" th:field="*{imgLink}">
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">Địa chỉ</label>
                            <input type="text" class="form-control" id="address" th:field="*{address}">
                        </div>
                        <button type="submit" class="btn btn-primary">Cập nhật thông tin</button>
                    </form>
                    </div>
                    <div class="col-6">
                    <!-- Form thay đổi mật khẩu -->
                    <h4 class="mt-4">Thay đổi mật khẩu</h4>
                    <form th:action="@{/user/change-password}" th:object="${passwordDto}" method="post">
                        <div class="mb-3">
                            <label for="oldPassword" class="form-label">Mật khẩu cũ</label>
                            <input type="password" class="form-control" id="oldPassword" th:field="*{oldPassword}">
                            <div th:errors="*{oldPassword}" class="text-danger"></div>
                        </div>
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">Mật khẩu mới</label>
                            <input type="password" class="form-control" id="newPassword" th:field="*{newPassword}">
                            <div th:errors="*{newPassword}" class="text-danger"></div>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
                            <input type="password" class="form-control" id="confirmPassword" th:field="*{confirmPassword}">
                            <div th:errors="*{confirmPassword}" class="text-danger"></div>
                        </div>
                        <button type="submit" class="btn btn-primary">Thay đổi mật khẩu</button>
                    </form>
                    </div>
                </div>
                </div>

            </div>
        </section>
    </th:block>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>